<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Item Lookup</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f8f9fa;
      padding: 2rem;
    }

    h1 {
      text-align: center;
      margin-bottom: 2rem;
    }

    input {
      width: 100%;
      padding: 0.5rem;
      margin-bottom: 1rem;
      font-size: 1rem;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background-color: white;
    }

    th, td {
      padding: 0.75rem;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }

    th {
      cursor: pointer;
      position: relative;
    }

    th.sortable:hover {
      background-color: #c8102e;
      color: white;
    }

    th.sorted {
      background-color: #c8102e;
      color: white;
    }

    th .sort-icon {
      margin-left: 0.5rem;
      font-size: 0.9rem;
    }

    th span {
      white-space: nowrap;
    }
  </style>
</head>
<body>
  <h1>Item Weight Lookup</h1>

  <input type="text" id="search" placeholder="Search by name, SKU, or level..." />

  <table>
    <thead>
      <tr>
        <th onclick="sortTable(0)" class="sortable" id="col-0">
          <span>Name ⬍</span><span class="sort-icon" id="sort-icon-0"></span>
        </th>
        <th onclick="sortTable(1)" class="sortable" id="col-1">
          <span>SKU ⬍</span><span class="sort-icon" id="sort-icon-1"></span>
        </th>
        <th onclick="sortTable(2)" class="sortable" id="col-2">
          <span>Weight (lbs) ⬍</span><span class="sort-icon" id="sort-icon-2"></span>
        </th>
        <th onclick="sortTable(3)" class="sortable" id="col-3">
          <span>Shipping Level ⬍</span><span class="sort-icon" id="sort-icon-3"></span>
        </th>
      </tr>
    </thead>
    <tbody id="table-body">
      <tr><td>T-Shirt</td><td>TS001</td><td>0.5</td><td>1</td></tr>
      <tr><td>Hoodie</td><td>HD002</td><td>1.4</td><td>3</td></tr>
      <tr><td>Cap</td><td>CP003</td><td>0.4</td><td>1</td></tr>
      <tr><td>Jacket</td><td>JK004</td><td>2.2</td><td>5</td></tr>
      <tr><td>Sweatshirt</td><td>SW005</td><td>1.2</td><td>3</td></tr>
    </tbody>
  </table>

  <script>
    const searchInput = document.getElementById('search');
    const tableBody = document.getElementById('table-body');
    const rows = Array.from(tableBody.rows);

    searchInput.addEventListener('input', function () {
      const value = this.value.toLowerCase();
      tableBody.innerHTML = '';
      rows.forEach(row => {
        const text = row.innerText.toLowerCase();
        if (text.includes(value)) {
          tableBody.appendChild(row);
        }
      });
    });

    let sortCol = -1;
    let sortAsc = true;

    function sortTable(colIndex) {
      const isSameCol = sortCol === colIndex;
      sortAsc = isSameCol ? !sortAsc : true;
      sortCol = colIndex;

      rows.sort((a, b) => {
        const aText = a.cells[colIndex].textContent.trim();
        const bText = b.cells[colIndex].textContent.trim();

        const aNum = parseFloat(aText);
        const bNum = parseFloat(bText);

        if (!isNaN(aNum) && !isNaN(bNum)) {
          return sortAsc ? aNum - bNum : bNum - aNum;
        }

        return sortAsc
          ? aText.localeCompare(bText)
          : bText.localeCompare(aText);
      });

      tableBody.innerHTML = '';
      rows.forEach(row => tableBody.appendChild(row));

      // Reset styles
      for (let i = 0; i < 4; i++) {
        document.getElementById(`col-${i}`).classList.remove('sorted');
        document.getElementById(`sort-icon-${i}`).textContent = '';
      }

      const sortIcon = sortAsc ? '▲' : '▼';
      document.getElementById(`col-${colIndex}`).classList.add('sorted');
      document.getElementById(`sort-icon-${colIndex}`).textContent = sortIcon;
    }
  </script>
</body>
</html>
